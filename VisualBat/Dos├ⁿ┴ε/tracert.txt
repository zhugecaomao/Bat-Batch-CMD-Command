Tracert



通过递增“生存时间 (TTL)”字段的值将“Internet 控制消息协议 (ICMP) 回响请求”消息发送给目标可确定到达目标的路径。所显示的路径是源主机与目标主机间的路径中的路由器的近侧路由器接口列表。近侧接口是距离路径中的发送主机最近的路由器的接口。不带参数时，tracert 显示帮助。


语法



tracert [-d] [-h MaximumHops] [-j HostList] [-w Timeout] [TargetName]


参数



	/d

	防止 tracert 试图将中间路由器的 IP 地址解析为它们的名称。这样可加速显示 tracert 的结果。

	-h MaximumHops

	在搜索目标（目的）的路径中指定跃点的最大数。默认值为 30 个跃点。

	-j HostList

	指定“回响请求”消息对于在主机列表中指定的中间目标集使用 IP 报头中的“松散源路由”选项。可以由一个或多个具有松散源路由的路由器分隔连续中间的目的地。主机列表中的地址或名称的最大数为 9。主机列表是一系列由空格分开的 IP 地址（用带点的十进制符号表示）。

	-w Timeout

	指定等待“ICMP 已超时”或“回响答复”消息(对应于要接收的给定“回响请求”消息)的时间（以毫秒为单位）。如果超时时间内未收到消息，则显示一个星号 (*)。默认的超时时间为 4000（4 秒 ）。

	TargetName

	指定目标，可以是 IP 地址或主机名。
-?
在命令提示符显示帮助。





注释



 该诊断工具通过更改“生存时间 (TTL)”的值向目标发送“ICMP 回响请求”消息来确定到达目标的路径。要求路径上的每个路由器在转发数据包之前至少将 IP 数据包中的 TTL 递减 1。这样，TTL 就成为最大链路计数器。数据包上的 TTL 到达 0 时，路由器应该将“ICMP 已超时”的消息发送回源计算机。Tracert 发送 TTL 为 1 的第一条“回响请求”消息，并在随后的每次发送过程将 TTL 递增 1，直到目标响应或跃点达到最大值，从而确定路径。默认情况下跃点最大值是 30，可使用 -h 参数指定。检查中间路由器返回的“ICMP 超时”消息与目标返回的“回响答复”消息可确定路径。但是，某些路由器不会为使用到期 TTL 值的数据包返回“已超时”消息，而且有些路由器对于 tracert 命令不可见。在这种情况下，将为该跃点显示一行星号 (*)。
    
 要跟踪路径并为路径中的每个路由器和链路提供网络延迟和数据包丢失信息，请使用 pathping 命令。
    
 只有当网际协议 (TCP/IP) 协议在 网络连接中安装为网络适配器属性的组件时，该命令才可用。
    
   


范例


 要跟踪名为 corp7.microsoft.com 的主机的路径，请键入：

 tracert corp7.microsoft.com


 要跟踪名为 corp7.microsoft.com 的主机的路径并防止将每个 IP 地址解析为它的名称，请键入：

 tracert -d corp7.microsoft.com


 要跟踪名为 corp7.microsoft.com 的主机的路径并使用松散源路由 10.12.0.1-10.29.3.1-10.1.44.1，请键入：

 tracert -j 10.12.0.1 10.29.3.1 10.1.44.1 corp7.microsoft.com


XOX





