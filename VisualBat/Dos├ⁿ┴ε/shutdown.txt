Shutdown



允许您关闭或重新启动本地或远程计算机。如果没有使用参数，shutdown 将注销当前用户。


语法



shutdown [{-l|-s|-r|-a}] [-f] [-m [\\ComputerName]] [-t xx] [-c "message"] [-d[u][p]:xx:yy] 


参数



	-l
	注销当前用户，这是默认设置。-m ComputerName 优先。

	-s 
	关闭本地计算机。

	-r
	关闭之后重新启动。

	-a
	中止关闭。除了 -l 和 ComputerName 外，系统将忽略其它参数。在超时期间，您只可以使用 -a。

	-f
	强制运行要关闭的应用程序。

	-m [\\ComputerName]
	指定要关闭的计算机。


	-t xx
	将用于系统关闭的定时器设置为 xx 秒。默认值是 20 秒。

	-c "message"
	指定将在“系统关闭”窗口中的“消息”区域显示的消息。最多可以使用 127 个字符。引号中必须包含消息。

	-d [u][p]:xx:yy
	列出系统关闭的原因代码。下表将列出不同的值。



值
说明


 u
指定用户代码。


p
指定已计划的关闭代码。


xx
指定主要原因代码 (0-255)。


yy
指定次要原因代码 (0-65536)。




/?
在命令提示符显示帮助。




注释


 一旦指定了主要和次要原因代码，您必须首先为计划使用某种特定原因的每个计算机定义那些原因代码。如果目标机器上没有定义原因代码，则事件查看器无法记录正确的原因文本。
    





范例



要在 60 秒内关闭 \\MyServer，强制运行要关闭的应用程序，在关机后重新启动系统，指定一个用户代码，指定计划关闭系统，然后记录主要原因代码 125 和次要原因代码 1，请键入：


shutdown -r -f -m \\MyServer -t 60 -d up:125:1 

XOX





