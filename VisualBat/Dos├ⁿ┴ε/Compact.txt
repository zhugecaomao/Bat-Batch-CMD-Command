Compact



显示和更改 NTFS 分区上的文件或目录压缩。如果在没有参数的情况下使用，则 compact 显示当前目录的压缩状态。


语法



compact [{/c|/u}] [/s[:dir]] [/a] [/i] [/f] [/q] [FileName[...]]


参数



/c

压缩指定的目录或文件。

/u

解压缩指定的目录或文件。

s:dir

指定将所请求的操作（压缩或解压缩）应用到指定目录的所有子目录，或者如果没有指定目录，则应用到当前目录的所有子目录。


/a

显示隐藏或系统文件。

/i

忽略错误。

/f

对指定目录或文件进行压缩或解压缩。这用于当系统崩溃中断操作时文件被部分压缩的情况。要强制文件压缩完全，请使用 /c 和 /f 参数并指定部分压缩的文件。

/q

只报告最基本的信息。

FileName

指定文件或目录。可以使用多个文件名和通配字符（* 和 ?）。

/?
在命令提示符显示帮助。





注释


compact 命令是 NTFS 文件系统中比较功能的命令行版本。它显示和改变 NTFS 分区上的文件和目录的压缩属性。目录的压缩状态表明是否自动将添加到该目录的文件压缩。设置目录的压缩状态时，不必更改该目录中已有文件的压缩状态。

对于已通过 DriveSpace 或 DoubleSpace 压缩过的卷，将无法使用 compact 进行读取、写入操作或装配卷。



范例



要为当前文件夹和它的子文件夹以及已有文件设置压缩状态，请在当前文件夹下键入：

compact /c /s


不改变当前文件夹的压缩状态，仅对于当前文件夹中的文件、子文件夹以及所有子文件夹中的文件，设置它们的压缩状态。为此可在当前文件夹下键入：

compact /c /s *.*


要压缩卷，请在该卷的根文件夹下键入：

compact /c /i /s:\


该范例设置根文件夹和该卷上所有文件夹的压缩状态，并将该卷上的每个文件压缩。使用 /i 参数，可以确保出错消息不会中断压缩过程。


要压缩目录 \Tmp 和 \Tmp 的所有子目录中以 .bmp 结束的所有文件但不修改这些目录的压缩属性，请键入：

compact /c /s:\tmp *.bmp


要强制完全压缩在系统崩溃时已部分压缩的文件 Zebra.bmp，请键入：

compact /c /f zebra.bmp


要从目录 C:\Tmp 删除压缩属性，但不更改该目录中任何文件的压缩状态，请键入：

compact /u c:\tmp

XOX



