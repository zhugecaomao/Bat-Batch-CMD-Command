Diskcopy



将源驱动器中软盘的内容复制到目标驱动器中已格式化或未格式化的软盘上。如果不指定参数，diskcopy 使用当前驱动器作为源盘和目标盘。


语法



diskcopy [drive1:[drive2:]][-v]


参数



drive1

指定包含源盘的驱动器。

drive2

指定包含目标盘的驱动器。

/v 

验证正确地复制了信息。此命令行选项可减慢复制进程。

/?在命令提示符显示帮助。





注释


使用磁盘

Diskcopy 只适用于可移动磁盘，例如软盘。diskcopy 命令不能用于硬盘。如果指定了 drive1 或 drive2 的硬盘驱动器，diskcopy 将显示以下错误消息：

Invalid drive specification
Specified drive does not exist
or is nonremovable

diskcopy 命令提示符您插入源磁盘和目标磁盘，在继续前将等待您按键盘上的任意键。

复制后，diskcopy 命令显示下列信息：

Copy another diskette (Y/N)? 

按 Y，diskcopy 将提示插入用于下一次复制操作的源盘和目标盘。要停止 diskcopy 过程，请按 N。

如果复制的目标盘（drive2 中的软盘）未格式化，diskcopy 将按与 drive1 中的磁盘相同的面数和每道扇区数格式化软盘。Diskcopy 在格式化磁盘和复制文件时显示以下信息：

在复制时格式化 

磁盘序列号

如果源磁盘有卷序列号，diskcopy 将为目标盘创建新的卷序列号，并在复制操作完成时显示这个序列号。
省略驱动器参数

如果省略 drive2 参数，diskcopy 将把当前驱动器作为目标驱动器。如果省略这两个驱动器参数，diskcopy 将使用当前驱动器作为这两个参数。如果当前驱动器与 drive1 相同，diskcopy 会提示您根据需要交换磁盘。
使用一个驱动器进行复制

如果 drive1 和 drive2 是相同的，diskcopy 将提醒您切换磁盘。如果省略这两个 drive 参数，并且当前磁盘驱动器为软盘驱动器，diskcopy 将在每次需要在驱动器中插入软盘时都提醒您。如果磁盘包含的信息超过了可以保留的可用内存，diskcopy 将无法立即读取全部信息。diskcopy 从源磁盘读取，写入目标磁盘，然后提示您再次插入源磁盘。此进程持续到复制完整个磁盘为止。
避免磁盘碎片整理

因为 diskcopy 在目标磁盘上生成了源磁盘的原样副本，源磁盘上的任何碎片都将传送到目标磁盘。碎片是在磁盘上现有文件之间未被使用的磁盘空间小区域。

零碎的源盘可能会降低文件的查找、读取或写入的进度。要避免将碎片从一张磁盘传送到另一张磁盘，请使用 copy 或 xcopy 复制磁盘。因为 copy 和 xcopy 按顺序复制文件，所以新磁盘不会有碎片。

警告

xcopy 不能用来复制启动盘。


了解 diskcopy 退出代码

下表列出了每个出口代码和简单描述。



退出码
说明


0
复制操作已成功


1
发生非致命的读/写错误


3
发生致命硬错误


4
出现了初始化错误。



要处理 diskcomp 返回的退出代码，可以使用批处理程序中的 if 命令行上的 errorlevel 。有关处理退出代码的批处理程序的范例，请参阅“”中的 diskcomp。




范例



要将驱动器 B 中的磁盘复制到驱动器 A 中的磁盘，请键入：

diskcopy b:a: 

XOX





 
