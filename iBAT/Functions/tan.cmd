::::::::::::::::::::::::::::任意值三角函数计算::::::::::::::::::::::::::::::
::用法：call  tan  RetVar=Num                                             ::
::            %1 指定一个变量名，用于存储返回值，运算结果四舍五入         ::
::            %2 指定一个角度用于计算                                     ::
::                                                                        ::
:: 说明：1、函数中的角度单位为度，计算时允许使用任意有效度数；            ::
::       2、计算结果均四舍五入，三角函数精确到 0.0001，反三角函数取整；   ::
::       3、当参数格式不对时将退出码设为2，当使用不在所选函数计算范围的数 ::
::          值时退出码设为1，任何错误都将把用户指定的 retvar 设为 Error。 ::
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
set "%~1=Error"&setlocal enabledelayedexpansion&set "n=%~2"
for /f "eol=-delims=-0123456789" %%a in ("%~2")do exit /b2
set/a"n=(n%%180+180)%%180,m=1-n/91*2,n=(91+n%%90*m-n/91-^!((n-90)%%180))%%91+16"
for /f "usebackskip=%n%" %%a in ("%~f0")do 2>nul (
set/an=1000%%a,m=%%a/10000&&set "%~1=%m:1=%!m!.!n:~-4!"||set "%~1=%%a"
for %%a in (!n!)do endlocal&set "%~1=%%a"&exit/b0)
0
2
6
14
24
38
55
75
98
125
154
187
223
263
306
353
403
457
515
576
642
711
785
864
946
1034
1126
1223
1326
1434
1547
1666
1792
1924
2062
2208
2361
2521
2690
2868
3054
3250
3456
3673
3902
4142
4396
4663
4945
5243
5557
5890
6243
6616
7013
7434
7883
8361
8871
9416
10000
10627
11301
12027
12812
13662
14586
15593
16695
17904
19238
20716
22361
24203
26280
28637
31336
34454
38097
42408
47588
53925
61853
72055
85668
104737
133356
181073
276537
562987
Error
